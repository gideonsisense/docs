<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
    <head>
        <title>Customizing User Roles | Sisense | Documentation</title>
    </head>
    <body>
        <h1>Customizing User Roles</h1>
        <p>This topic describes how to customize the permissions given to the Sisense user roles, using <MadCap:variable name="Variables.CompanyName" />’s <a href="https://documentationv7.sisense.com/documentation/sisense-rest-api/">REST API</a>. At the bottom of the page, you can find a video tutorial demonstrating the following procedure.</p>
        <p>
            <a href="../../getting-started/user-roles.htm">Click here</a> to learn more about each role type.</p>
        <span class="bold">Note</span>: The API uses a previous terminology for Designers and Viewers. When entering the role name into the operation parameters, use Contributor (for Designer), and Consumer (for Viewer).<p class="bold">Customizing Roles</p><p>You can customize the default roles with <MadCap:variable name="Variables.CompanyName" />’s REST API, by defining which permissions to enable or disable for each role. For example, you can prevent a user from drilling into widgets, or exporting data to a CSV file. On the other hand, you may want to let viewers change the widget type and format the style.</p><p>The following table lists all the actions that you can customize using the API. True and False indicate values that you can change. Never indicates values that you cannot change.</p><p class="bold">Dashboards</p><table><thead><tr><th>Dashboards</th><th>Admin</th><th>Data Admin</th><th>Data Designer</th><th>Designer</th><th>Viewer</th></tr></thead><tbody><tr><td>create<br />Create a new dashboard.</td><td>True</td><td>True</td><td>True</td><td>True</td><td>Never</td></tr><tr><td>duplicate<br />Duplicate an existing dashboard.</td><td>True</td><td>True</td><td>True</td><td>True</td><td>False</td></tr><tr><td>change_owner<br />Change the dashboard' owner.</td><td>True</td><td>True</td><td>True</td><td>True</td><td>False</td></tr><tr><td>toggle_edit_mode<br />Select between Layout and View modes in the dashboard. Layout mode is the default mode in which you can add new widgets and rearrange them on the dashboard. In View mode, the dashboard cannot be rearranged or edited.</td><td>True</td><td>True</td><td>True</td><td>True</td><td>False</td></tr><tr><td>edit_script<br />Edit a dashboard using the Sisense JavaScript API.</td><td>True</td><td>True</td><td>True</td><td>True</td><td>Never</td></tr><tr><td>export_dash<br />Export a dashboard as a .dash file that can be imported back into Sisense.</td><td>True</td><td>True</td><td>True</td><td>True</td><td>Never</td></tr><tr><td>export_jpeg<br />Download a widget as an image in PNG format. The downloaded image represents the current view.</td><td>True</td><td>True</td><td>True</td><td>True</td><td>True</td></tr><tr><td>export_pdf<br />Export the dashboard to PDF format. The exported file includes the current view.</td><td>True</td><td>True</td><td>True</td><td>True</td><td>True</td></tr><tr><td>restore<br />Revert changes made in the dashboard to the latest dashboard that was shared.</td><td>True</td><td>True</td><td>True</td><td>True</td><td>True</td></tr><tr><td>copy_to_server<br />Copy the dashboard to another server.</td><td>True</td><td>True</td><td>True</td><td>True</td><td>False</td></tr><tr><td>import<br />Import a .dash file into the Sisense Web Application.</td><td>True</td><td>True</td><td>True</td><td>True</td><td>Never</td></tr><tr><td>select_palette<br />Change the selected color palette.</td><td>True</td><td>True</td><td>True</td><td>True</td><td>Never</td></tr><tr><td>replace_datasource<br />Select a new data source for a dashboard.</td><td>True</td><td>True</td><td>True</td><td>True</td><td>False</td></tr><tr><td>undo_import_dash</td><td>True</td><td>True</td><td>True</td><td>True</td><td>False</td></tr><tr><td>Filters</td><td>&#160;</td><td>&#160;</td><td>&#160;</td><td>&#160;</td><td>&#160;</td></tr><tr><td>create<br />Create a new filter.</td><td>True</td><td>True</td><td>True</td><td>True</td><td>False</td></tr><tr><td>on_off<br />Switch filters on or off.</td><td>True</td><td>True</td><td>True</td><td>True</td><td>True</td></tr><tr><td>toggle_expansion<br />Enable the expansion of filter settings to see more filter parameters.</td><td>True</td><td>True</td><td>True</td><td>True</td><td>True</td></tr><tr><td>toggle_auto_update<br />Include the option to update the dashboard following every change</td><td>True</td><td>True</td><td>True</td><td>True</td><td>False</td></tr><tr><td>modify_type<br />Include in the filter options 'Ranking' and 'Starred', in addition to 'List' and 'Text'.</td><td>True</td><td>True</td><td>True</td><td>True</td><td>False</td></tr><tr><td>set_defaults<br />Include in the dashboard menu the option to set the dashboard filters as the default filters for the dashboard.</td><td>True</td><td>True</td><td>True</td><td>True</td><td>False</td></tr><tr><td>advanced<br />Include the Advanced menu option for creating custom filters.</td><td>True</td><td>True</td><td>True</td><td>True</td><td>False</td></tr><tr><td>use_starred<br />Include the option to use filters that have been starred</td><td>True</td><td>True</td><td>True</td><td>True</td><td>False</td></tr></tbody></table><p class="bold">Widgets</p><table><thead><tr><th>Widgets</th><th>Admin</th><th>Data Admin</th><th>Data Designer</th><th>Designer</th><th>Viewer</th></tr></thead><tbody><tr><td>create<br />Create a new widget.</td><td>True</td><td>True</td><td>True</td><td>True</td><td>Never</td></tr><tr><td>delete<br />Delete a widget.</td><td>True</td><td>True</td><td>True</td><td>True</td><td>False</td></tr><tr><td>rename<br />Rename a widget.</td><td>True</td><td>True</td><td>True</td><td>True</td><td>False</td></tr><tr><td>duplicate<br />Duplicate a widget.</td><td>True</td><td>True</td><td>True</td><td>True</td><td>Never</td></tr><tr><td>copy_to_dashboard<br />Copy a widget to a dashboard. This functionality allows you to drag and drop widgets to additional dashboards in your dashboard list. </td><td>True</td><td>True</td><td>True</td><td>True</td><td>False</td></tr><tr><td>edit_script<br />Edit a widget using the JavaScript API.</td><td>True</td><td>True</td><td>True</td><td>True</td><td>Never</td></tr><tr><td>change_type<br />Change the chart type.</td><td>True</td><td>True</td><td>True</td><td>True</td><td>False</td></tr><tr><td>export_csv<br />Export a widget's data to a CSV file.</td><td>True</td><td>True</td><td>True</td><td>True</td><td>True</td></tr><tr><td>export_png<br />Download a widget as an image in the PNG format. The downloaded image represents the current view.</td><td>True</td><td>True</td><td>True</td><td>True</td><td>True</td></tr><tr><td>modify_selection_mode<br />Enable the option to change the filter behavior between 'Slice' (only filtered items are included in the chart) and 'Highlight' (filters items are highlighted).</td><td>True</td><td>True</td><td>True</td><td>True</td><td>False</td></tr><tr><td>drill_to_anywhere<br />Enable the option to drill down into a filed to get an in-depth view of a selected value. If False, the user can only drill down with predefined drill hierarchies (if defined).</td><td>True</td><td>True</td><td>True</td><td>True</td><td>True</td></tr><tr><td>add_to_pulse<br />Include the option to add a widget to Pulse if the widget type is supported.</td><td>True</td><td>True</td><td>True</td><td>True</td><td>True</td></tr><tr><td><span class="bold">Items</span></td><td>&#160;</td><td>&#160;</td><td>&#160;</td><td>&#160;</td><td>&#160;</td></tr><tr><td>reorder<br />Reorder the fields and values in the data panel and their representation in the chart.</td><td>True</td><td>True</td><td>True</td><td>True</td><td>False</td></tr><tr><td>modify_type<br />Enables the option to edit values and categories in the data panel.</td><td>True</td><td>True</td><td>True</td><td>True</td><td>Never</td></tr><tr><td>on_off<br />Enable the option to turn fields on or off in the widget.</td><td>True</td><td>True</td><td>True</td><td>True</td><td>True</td></tr><tr><td>select_hierarchies<br />Include the option to select pre-defined hierarchies.</td><td>True</td><td>True</td><td>True</td><td>True</td><td>False</td></tr><tr><td><span class="bold">Filters</span></td><td>&#160;</td><td>&#160;</td><td>&#160;</td><td>&#160;</td><td>&#160;</td></tr><tr><td>on_off<br />Switch filters on or off.</td><td>True</td><td>True</td><td>True</td><td>True</td><td>False</td></tr><tr><td>toggle_expansion<br />Enable the expansion of filter settings to display more filter parameters.</td><td>True</td><td>True</td><td>True</td><td>True</td><td>True</td></tr><tr><td>modify</td><td>True</td><td>True</td><td>True</td><td>True</td><td>False</td></tr><tr><td>modify_type<br />Include in the filter options 'Ranking' and 'Starred', in addition to 'List' and 'Text'</td><td>True</td><td>True</td><td>True</td><td>True</td><td>False</td></tr><tr><td>use_starred<br />Enables the option to star (bookmark as favorite) a filter selection.</td><td>True</td><td>True</td><td>True</td><td>True</td><td>False</td></tr></tbody></table><p class="bold">ElastiCubes</p><p>This object is not displayed in the Sisense REST API, however, you can still toogle these features through the <span class="bold">POST</span> /roles/{idOrName}/manifest/{path} endpoint.</p><p>The value of path should be in the format of manage/elasticubes/<span class="bold">[value]</span>  where <span class="bold">[value]</span> is the feature listed in the table below, add or schedule_build.<br /><img src="../../../Resources/Images/customroleapi1.png" class="thumblarge" /></p><table><thead><tr><th>ElastiCubes</th><th>Admin</th><th>Data Admin</th><th>Data Designer</th><th>Designer</th><th>Viewer</th></tr></thead><tbody><tr><td>Add Allows the user to add new ElastiCubes.</td><td>True</td><td>True</td><td>True</td><td>False</td><td>False</td></tr><tr><td>schedule_build Allows the user to schedule builds for an ElastiCube.</td><td>True</td><td>True</td><td>True</td><td>False</td><td>False</td></tr></tbody></table><p class="bold">To change permissions for a user role:</p><ol><li>In the <MadCap:variable name="Variables.Sisense Web Application" />, click <span class="bold">Admin</span> at the top right of the screen, and then <span class="bold">REST API</span> in the left menu.</li><li>Click <span class="bold">REST API Reference</span> to view the API documentation.</li><li>In the API Documentation, select version <span class="bold">0.9</span>.<br /></li><li>Click on <span class="bold">/roles</span> to access the different API operations.</li><li>Find the operation that you require (see examples below), and type in the required parameters in the operation. You can click on <span class="bold">Model Schema</span> to see and add example code for the parameters.<br />When changing a permission for a role, you must use the <span class="bold">Path</span> parameter, which defines the permission you want to update and its relative path in the hierarchy that appears in the table above. For example, to change the ‘Create’ setting for dashboard filters, enter dashboards/filters/. For creating dashboards, enter /dashboards. See the reference table above for more settings.<br /><img src="../../../Resources/Images/roles-perm-2.png" class="thumblarge" /></li><li>Click <span class="bold">RUN</span> to apply the changes.</li></ol><p>Here are some examples of what you can do.</p><p class="bold">See all permissions for all roles</p><p>Method: <span class="bold">Get /roles</span></p><p class="bold">Parameters</p><ul><li><span class="bold">includeManifest</span>  – Use the default setting (true)</li><li><span class="bold">compiledRoles</span> – Use the default setting (true)</li></ul><p class="bold">Example API Call</p><p class="code">/api/roles?includeManifest=true&amp;compiledRoles=true</p><p class="bold">See all settings for a specific role</p><p>Method: <span class="bold">GET /roles/{idOrName}</span></p><p class="bold">Parameters</p><ul><li><span class="bold">idOrName</span> – The role name can be one of the following: admin, contributor, consumer </li><li><span class="bold">compiledRole</span> – Use the default setting (true)</li></ul><p class="bold">Example API Call</p><p class="code">/api/roles/consumer?compiledRole=true</p><p class="bold">Change a specific setting for a specific role</p><p>Method: <span class="bold">PUT /roles/{idOrName}/manifest/{path}</span></p><p class="bold">Parameters</p><ul><li><span class="bold">idOrName</span> – The role name can be one of the following: admin, contributor, consumer.</li><li><span class="bold">Path </span>– Enter the path to the setting that you want to change as it appears in the hierarchy. Do not include the setting in the path. Example: To change the ‘Create’ setting for dashboard filters, enter dashboards/filters/. For creating dashboards, enter /dashboards. See the reference table above for more settings.</li><li><span class="bold">Manifest</span> – Defines whether to enable or disable the setting. For example, to enable ‘create’, type in: {“create”: true}<br /><img src="../../../Resources/Images/consumer-1.png" class="thumblarge" /></li></ul><p class="bold">Example API Call</p><p class="code">/api/roles/viewer/manifest/dashboards/filters</p><span class="bold">Note</span>: You can use POST to do the same action, but for POST all other options will be reset to their default settings.<p class="bold">Restore a specific setting for a specific role</p><p>Method: <span class="bold">DELETE /roles/{idOrName}/manifest/{path}</span></p><p class="bold">Parameters</p><ul><li><span class="bold">idOrName</span> – The role name can be one of the following: super, dataDesigner, dataAdmin, admin, contributor, consumer.</li><li><span class="bold">Path</span> – Enter the full path of the setting you want to change, as it appears in the hierarchy. Example: dashboards/filters/modify_type. See the reference table above for more settings.</li></ul><p class="bold">Example API Call</p><p class="code">/api/roles/viewer/manifest/dashboards/filters/modify_type</p><p class="bold">Restore all settings for a specific role</p><p>Method: <span class="bold">DELETE /roles/{idOrName}/manifest/{path}</span></p><p class="bold">Parameters</p><ul><li><span class="bold">idOrName</span> – The role name can be one of the following: super, dataDesigner, dataAdmin, admin, contributor, consumer.</li><li><span class="bold">Path</span> – / Enter just a slash to restore all settings.</li></ul><p class="bold">Example API Call</p><p class="code">/api/roles/viewer/manifest/</p></body>
</html>