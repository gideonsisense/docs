<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
    <head><title>Querying ElastiCubes during Builds | Sisense | Documentation</title>
    </head>
    <body>
        <h1>Querying <MadCap:variable name="Variables.ElastiCube" />s during Builds</h1>
        <p><MadCap:variable name="Variables.CompanyName" /> <MadCap:variable name="Variables.ElastiCube" /> Sets are collections of <MadCap:variable name="Variables.ElastiCube" />s with identical schemas that allow you to query running <MadCap:variable name="Variables.ElastiCube" />s within the <MadCap:variable name="Variables.ElastiCube" /> Set while other <MadCap:variable name="Variables.ElastiCube" />s are building.</p><span class="bold">Note</span>: From <MadCap:variable name="Variables.CompanyName" /> V6.5 onwards, you can query <MadCap:variable name="Variables.ElastiCube" />s during accumulative builds without <MadCap:variable name="Variables.ElastiCube" /> Sets. However, to ensure that your users can query <MadCap:variable name="Variables.ElastiCube" />s after a failed build, you can implement <MadCap:variable name="Variables.ElastiCube" /> Sets to handle your queries while <MadCap:variable name="Variables.CompanyName" /> rebuilds the failed <MadCap:variable name="Variables.ElastiCube" />.<p>Grouping <MadCap:variable name="Variables.ElastiCube" />s into <MadCap:variable name="Variables.ElastiCube" /> sets has several benefits:</p><ul><li>Allowing viewers to query the most up-to-date cubes within an <MadCap:variable name="Variables.ElastiCube" /> Set.</li><li>Reducing server load during builds by using multiple nodes in which only the non-building node is queried.</li><li>Achieving data redundancy by running builds interchangeably across multiple nodes.</li></ul><p>To maximize availability and reduce build and dashboard response times, administrators can distribute resource allocation across multiple <MadCap:variable name="Variables.CompanyName" /> nodes. By adding <MadCap:variable name="Variables.ElastiCube" />s across multiple servers to a single <MadCap:variable name="Variables.ElastiCube" /> Set, administrators can configure <MadCap:variable name="Variables.ElastiCube" /> Sets to run builds interchangeably via the <MadCap:variable name="Variables.CompanyName" /> Orchestrator Service so the most up-to-date and complete <MadCap:variable name="Variables.ElastiCube" />s are queried.</p><p>The <MadCap:variable name="Variables.CompanyName" /> Orchestrator Service is an automated service that can be configured to synchronize builds across the <MadCap:variable name="Variables.ElastiCube" /> Set. If you change your schemas within any of the <MadCap:variable name="Variables.ElastiCube" />s, you must manually change the schemas in all of the <MadCap:variable name="Variables.ElastiCube" />s and rebuild the cube entirely.</p><p>This page provides the following information:</p><ol><li>Instructions on <a href="#Creating">Creating</a> and <a href="#Deleting">Deleting <MadCap:variable name="Variables.ElastiCube" /> Sets</a>.</li><li>A walkthrough for how you can create a set and configure the <MadCap:variable name="Variables.CompanyName" /> Orchestrator Service. See <a href="#Working">Working with <MadCap:variable name="Variables.ElastiCube" /> Sets</a>.</li><li>(Optional) Instructions on how to implement and configure the <MadCap:variable name="Variables.CompanyName" /> Orchestrator Service. See <a href="#Activati">Activating the <MadCap:variable name="Variables.CompanyName" /> Orchestrator Service</a>.</li><li>How to update an <MadCap:variable name="Variables.ElastiCube" /> within an <MadCap:variable name="Variables.ElastiCube" /> Set.</li></ol><h2 class="notoc"><a name="Creating"></a>Creating <MadCap:variable name="Variables.ElastiCube" /> Sets</h2><p>From the <span class="bold">Admin</span> page, Administrators can create <MadCap:variable name="Variables.ElastiCube" /> Sets.</p><p><MadCap:variable name="Variables.ElastiCube" /> Sets require at least two <MadCap:variable name="Variables.ElastiCube" />s. The Administrator can add multiple <MadCap:variable name="Variables.ElastiCube" />s to a set, however, <MadCap:variable name="Variables.ElastiCube" />s can only be part of a single <MadCap:variable name="Variables.ElastiCube" /> Set at a time. After an Administrator creates an <MadCap:variable name="Variables.ElastiCube" /> Set or adds an <MadCap:variable name="Variables.ElastiCube" /> to an existing set, the <MadCap:variable name="Variables.ElastiCube" /> is disabled in the original server and no further actions can be performed outside of the set.</p><p><MadCap:variable name="Variables.CompanyName" /> recommends that you develop <MadCap:variable name="Variables.ElastiCube" />s in a development environment or separate <MadCap:variable name="Variables.ElastiCube" /> to ensure they work before adding them to an <MadCap:variable name="Variables.ElastiCube" /> Set.</p><p class="bold">To create an <MadCap:variable name="Variables.ElastiCube" /> Set:</p><ol><li>Click <span class="bold">Admin</span> and select the <span class="bold">Data Sources</span> tab on the left.</li><li>For the relevant <MadCap:variable name="Variables.ElastiCube" /> you want to add to the <MadCap:variable name="Variables.ElastiCube" /> Set, select <img src="../../../Resources/Images/v7menu1.png" class="docbutton" /> and click <span class="bold">Create <MadCap:variable name="Variables.ElastiCube" /> Set</span>.<br /><img src="../../../Resources/Images/v7ecubeset.png" class="thumblarge" /></li><li>In the Create <MadCap:variable name="Variables.ElastiCube" /> Set window, enter a name for the set and select the <MadCap:variable name="Variables.ElastiCube" />s you want to include in the set.</li><li>From the Routing Strategy list, select a strategy for how you want to route traffic to your <MadCap:variable name="Variables.ElastiCube" /> Set. See <a href="replica-sets.htm">Routing Queries in <MadCap:variable name="Variables.ElastiCube" /> Sets</a> for more information.</li><li>From the Failover <MadCap:variable name="Variables.ElastiCube" /> list, select which <MadCap:variable name="Variables.ElastiCube" /> you prefer to use if the other <MadCap:variable name="Variables.ElastiCube" />s in the set are not available. Failover <MadCap:variable name="Variables.ElastiCube" />s only handle queries when an <MadCap:variable name="Variables.ElastiCube" /> that is part of the ElastiCube Set fails.(Note: this feature is available in <MadCap:variable name="Variables.CompanyName" /> V6.7 onwards).<br /><img src="../../../Resources/Images/fbeset.png" class="thumblarge" /></li><li>Click <span class="bold">Create</span>.</li><li>In the Existing Dashboards popup message, indicate if you want to associate your <MadCap:variable name="Variables.ElastiCube" />’s dashboards with the <MadCap:variable name="Variables.ElastiCube" /> Set or maintain the association with the original <MadCap:variable name="Variables.ElastiCube" />.<br /><img src="../../../Resources/Images/v7ecube1.png" class="thumblarge" /></li><li>Click <span class="bold">OK</span>. The <MadCap:variable name="Variables.ElastiCube" /> Set is created and displayed in the Admin page.<br />After you have created an <MadCap:variable name="Variables.ElastiCube" /> Set, you can configure the <MadCap:variable name="Variables.ElastiCube" /> <a href="../elasticube-management/manage-drill-hiearchy.htm">Set’s Hierarchies</a>, <a href="../defining-security-and-access-settings/assign-security-rights.htm">Access Rights</a>, and <a href="../defining-security-and-access-settings/data-security.htm">Data Security</a>.</li></ol><h3 class="notoc">Adding <MadCap:variable name="Variables.ElastiCube" />s to <MadCap:variable name="Variables.ElastiCube" /> Sets</h3><p>After you have created an <MadCap:variable name="Variables.ElastiCube" /> Set, you can add more <MadCap:variable name="Variables.ElastiCube" />s to the set.</p><p>When you add an <MadCap:variable name="Variables.ElastiCube" /> to an existing <MadCap:variable name="Variables.ElastiCube" /> Set, any dashboards associated with that <MadCap:variable name="Variables.ElastiCube" /> are passed on to the <MadCap:variable name="Variables.ElastiCube" /> Set.</p><span class="bold">Note</span>: You cannot add ‘localhost’ to an <MadCap:variable name="Variables.ElastiCube" /> Set. Instead, you can add your localhost as a new server with its IP address as the server name and then add <MadCap:variable name="Variables.ElastiCube" />s from it to an <MadCap:variable name="Variables.ElastiCube" /> Set.<p class="bold">To add an <MadCap:variable name="Variables.ElastiCube" /> to the <MadCap:variable name="Variables.ElastiCube" /> Set:</p><ol><li>Click <span class="bold">Admin</span> in the upper right corner and select the <span class="bold"><MadCap:variable name="Variables.ElastiCube" />s</span> tab on the left.</li><li>For the relevant <MadCap:variable name="Variables.ElastiCube" /> you want to add to the <MadCap:variable name="Variables.ElastiCube" /> Set select <img src="../../../Resources/Images/v7menu2.png" class="docbutton" /> and click Add to <MadCap:variable name="Variables.ElastiCube" /> Set.<br /><img src="../../../Resources/Images/v7ecubeset1.png" class="thumblarge" /><br />OR<br />In the <MadCap:variable name="Variables.ElastiCube" /> Set table, click <img src="../../../Resources/Images/v7menu3.png" class="docbutton" /> and select <span class="bold">Edit</span><img src="../../../Resources/Images/editicon.png" class="docbutton" /> and select the <MadCap:variable name="Variables.ElastiCube" />s to be added to the set. Click Save after you have selected the relevant <MadCap:variable name="Variables.ElastiCube" />s.<br /><img src="../../../Resources/Images/v7ecubeset2.png" class="thumblarge" /><br />The <MadCap:variable name="Variables.ElastiCube" /> is added to the <MadCap:variable name="Variables.ElastiCube" /> Set and displayed in the <MadCap:variable name="Variables.ElastiCube" /> Set table on the Admin page.</li></ol><h3 class="notoc"><a name="Deleting"></a>Deleting <MadCap:variable name="Variables.ElastiCube" /> Sets</h3><p>Administrators can delete <MadCap:variable name="Variables.ElastiCube" /> Sets. Deleting an <MadCap:variable name="Variables.ElastiCube" /> Set removes the set from the Admin page and any dashboards associated with that set.</p><p class="bold">To delete an <MadCap:variable name="Variables.ElastiCube" /> Set:</p><ol><li>Hover over its title and click the Trash <img src="../../../Resources/Images/trash4.png" class="docbutton" /> icon.</li><li>Click <span class="bold">Delete</span> to confirm that you want to delete the <MadCap:variable name="Variables.ElastiCube" /> Set.</li></ol><h2 class="notoc"><a name="Working"></a>Working with <MadCap:variable name="Variables.ElastiCube" /> Sets</h2><p>This section describes how to create your first <MadCap:variable name="Variables.ElastiCube" /> Set and configure it for high availability.</p><p>In this example, let’s assume that you have an <MadCap:variable name="Variables.ElastiCube" />, <MadCap:variable name="Variables.ElastiCube" /> A, and you want to add it to a set to ensure that the data can always be queried, even during a build.</p><p>The first step is to create a copy of <MadCap:variable name="Variables.ElastiCube" /> A. The <MadCap:variable name="Variables.ElastiCube" />s can have different names, but the schemas must be identical.</p><span class="bold">Note</span>: If your <MadCap:variable name="Variables.ElastiCube" />s are located on a single node, the <MadCap:variable name="Variables.ElastiCube" />s cannot have the same name.<p>In the <MadCap:variable name="Variables.ECM" />, we will save a new version of <MadCap:variable name="Variables.ElastiCube" /> A as <MadCap:variable name="Variables.ElastiCube" /> B. In <MadCap:variable name="Variables.CompanyName" />, you can see both <MadCap:variable name="Variables.ElastiCube" />s are identical (Select <span class="bold">Admin</span> &gt; <span class="bold">Data Sources</span>)</p><p><img src="../../../Resources/Images/settutorial.png" class="thumblarge" /></p><p>Now, let’s create an <MadCap:variable name="Variables.ElastiCube" /> Set that contains both <MadCap:variable name="Variables.ElastiCube" />s. Click <img src="../../../Resources/Images/v7menu3.png" /> &gt; <span class="bold">Create <MadCap:variable name="Variables.ElastiCube" /> Set</span>.  For more information, see <a href="#Creating">Creating <MadCap:variable name="Variables.ElastiCube" /> Sets</a>.</p><p>Select the <MadCap:variable name="Variables.ElastiCube" />s to be added to the set. For this set, we will select <MadCap:variable name="Variables.ElastiCube" /> A and B, which have different names, but identical schemas.</p><p><img src="../../../Resources/Images/ecubesetCreate.png" class="thumblarge" /></p><p>Click <span class="bold">Create</span> and confirm that you want to create a new set with these <MadCap:variable name="Variables.ElastiCube" />s. The set and its <MadCap:variable name="Variables.ElastiCube" />s are now displayed at the top of the Admin page.</p><p><img src="../../../Resources/Images/settutorial1.png" class="thumblarge" /></p><p>Now that the set is built, it’s time to schedule automatic builds with the <MadCap:variable name="Variables.CompanyName" /> Orchestrator Service. This service automatically builds the <MadCap:variable name="Variables.ElastiCube" />s according to your preferences. For example, you can schedule the builds to run every 10 minutes or at midnight when queries are at their fewest.</p><p>To schedule automatic builds, first you should disable any scheduled builds you have for the <MadCap:variable name="Variables.ElastiCube" />s. In the <MadCap:variable name="Variables.ECM" /> in the top menu, select <span class="bold"><MadCap:variable name="Variables.ElastiCube" /></span> &gt; <span class="bold">Schedule Build Settings</span> for each <MadCap:variable name="Variables.ElastiCube" /> with a scheduled build, then select<span class="bold"> Disable</span> &gt; <span class="bold">Update</span>.</p><p><img src="../../../Resources/Images/DisableSync.png" class="thumblarge" /></p><p>Now that all the <MadCap:variable name="Variables.ElastiCube" />s’ scheduled builds are disabled, it’s time to configure the <MadCap:variable name="Variables.CompanyName" /> Orchestrator Service to build the <MadCap:variable name="Variables.ElastiCube" />s within the set. To configure the <MadCap:variable name="Variables.CompanyName" /> Orchestrator Service, you must modify the Config.JSON file that was installed when you installed the latest version of <MadCap:variable name="Variables.CompanyName" />. This file defines how the <MadCap:variable name="Variables.ElastiCube" /> Set is being built, the order of the build, and how frequently a build occurs.</p><p>This file is located in the Sisense.Orchestration Config folder (/Sisense.Orchestration/Config/) of your <MadCap:variable name="Variables.CompanyName" /> Installation folder.</p><p>For this set, let’s assume that you want to schedule an accumulative build for midnight. Within the <span class="bold">elastiCubes</span> object, we listed both <MadCap:variable name="Variables.ElastiCube" />s to be built by the <MadCap:variable name="Variables.CompanyName" /> Orchestrator Service. The order of the <MadCap:variable name="Variables.ElastiCube" /> builds is in the order of oldest to newest. Next, in the <span class="bold">timer</span> object, we listed the hour when the build is to take place. The value is defined in Cron format, so midnight equals 0 minutes 0 hours “0 0 * * * *”.</p><p>Finally, we define the flow of the build. We want an accumulative build, but if for some reason this fails, we want to run an entire build as a back-up. Remember, when an accumulative build fails, the <MadCap:variable name="Variables.ElastiCube" /> needs to be completely rebuilt to ensure that the data is intact. In the build object, we define the type of builds to be initiated and their order. The order of the values determines what build type is initiated first. In this example, the value is “FullUpdateExisting”,”Full”, which means run an accumulative build first and if that fails, run a full build. For a complete explanation on how to define the rest of the objects list in the Config.JSON file, see <a href="#Activati">Activating the <MadCap:variable name="Variables.CompanyName" /> Orchestrator Service</a>.</p><p>Now, save the file and <MadCap:variable name="Variables.CompanyName" /> automatically begins to run the builds according to the schedule defined in the timer object.</p><p><pre>{  
   "servers":{  
      "localhost":{  
         "ip":"localhost",
         "port":"8081",
         "apiKey":"eyJ0eXAiHDHDHsXKSSZJdnUzI1NiJ9.eyJ1c2VyIjoiNTY1N332RW2eygL0uVLufGYC-8vY"
      }
   },
   "tasks":[  
      {  
         "name":"taskName",
         "elasticubes":[  
            {  
               "server":"localhost",
               "cube":"ElastiCube A"
            },
            {  
               "server":"localhost",
               "cube":"ElastiCube B"
            }
         ],
         "timer":"0 0 * * *",
         "build":{  
            "queue":[  
               "FullUpdateExisting",
               "Full"
            ],
            "flow":"sync"
         },
         "email":{  
            "when":"Fail"
         }
      }
   ],
   "emails":[  
      {  
         "email":"JohnDoe@sisense.com",
         "name":"John Doe"
      }
   ],
   "logLevel":"info"
}</pre></p><p>The <MadCap:variable name="Variables.CompanyName" /> Orchestrator Service automatically builds the <MadCap:variable name="Variables.ElastiCube" />s within the set, but if the schema changes, you must manually rebuild each <MadCap:variable name="Variables.ElastiCube" /> within the set so the schemas match across all the <MadCap:variable name="Variables.ElastiCube" />s. While working with the schemas of an <MadCap:variable name="Variables.ElastiCube" /> that is part of an <MadCap:variable name="Variables.ElastiCube" /> Set, you should stop the <MadCap:variable name="Variables.CompanyName" /> Orchestrator Service.</p><p>To stop the <MadCap:variable name="Variables.CompanyName" /> Orchestrator Service, open Windows Services, select Sisense.Orchestrator, and click <img src="../../../Resources/Images/servicesstop.png" class="docbutton" />.</p><p><img src="../../../Resources/Images/WinServicesSet.png" class="thumblarge" /></p><p>After the <MadCap:variable name="Variables.ElastiCube" />s are rebuilt, restart the <MadCap:variable name="Variables.CompanyName" /> Orchestrator Service by selecting Sisense.Orchestrator and click <img src="../../../Resources/Images/startbutton.png" class="docbutton" />.</p><p><img src="../../../Resources/Images/startservices.png" class="thumblarge" /></p><p>The <MadCap:variable name="Variables.ElastiCube" /> Set is now configured and running <MadCap:variable name="Variables.ElastiCube" />s can be queried while the other <MadCap:variable name="Variables.ElastiCube" />s are being built.</p><h2 class="notoc"><a name="Activati"></a>Activating the <MadCap:variable name="Variables.CompanyName" /> Orchestrator Service</h2><p>The <MadCap:variable name="Variables.CompanyName" /> Orchestrator Service automates the build process for <MadCap:variable name="Variables.ElastiCube" /> Sets and determines how frequently the build process occurs.</p><p>To activate the <MadCap:variable name="Variables.CompanyName" /> Orchestrator Service, you must create and save a JSON file called config.json in the Sisense.Orchestration Config folder (/Sisense.Orchestration/Config/) of your <MadCap:variable name="Variables.CompanyName" /> Installation folder. This file defines how the <MadCap:variable name="Variables.ElastiCube" /> Set is being built, the order of the build, and how frequently a build occurs.</p><p>After you save the file, the <MadCap:variable name="Variables.CompanyName" /> Orchestrator Service automatically begins to build <MadCap:variable name="Variables.ElastiCube" />s in your ElastiCube Set as defined by you in the config.json file. You can review the progress of the build in the /Sisense.Orchestration/Logs folder in a log file whose file name you define in the JSON file.</p><p>Note: During this phase it is recommended to stop the <MadCap:variable name="Variables.CompanyName" /> Orchestrator Service while importing data and reactivate it after the importing process is completed.</p><p>The objects that you must include in the config.json file and their descriptions are provided in the table below:</p><table><thead><tr><th>Key</th><th>Value</th></tr></thead><tbody><tr><td>Servers</td><td>The servers block contains a server object that defines each server that hosts an <MadCap:variable name="Variables.ElastiCube" /> within your <MadCap:variable name="Variables.ElastiCube" /> Set. Each server must include a server name, IP, port, and a unique API key.For example, if you have two different servers, each server must be represented as a separate object with its own name, IP, and port.</td></tr><tr><td>ServerName</td><td>Your server’s name. The value of this key is used when associating the <MadCap:variable name="Variables.ElastiCube" /> Set with a server in the value of the Tasks key.</td></tr><tr><td>IP</td><td>The IP address of your server.</td></tr><tr><td>Port</td><td>The port of your web server.</td></tr><tr><td>API</td><td>The access token used to identify your requests to the <MadCap:variable name="Variables.CompanyName" /> web server. For more information about the access token, see Retrieving a Token.</td></tr><tr><td>Tasks</td><td>The Tasks object contains an array of <MadCap:variable name="Variables.ElastiCube" /> objects. This object can contain multiple <MadCap:variable name="Variables.ElastiCube" /> objects, but a minimum of two are required for a set.</td></tr><tr><td>Name</td><td>The name of the plan. The value of this parameter is the filename of the log file for the Sisense Orchestrator Service.</td></tr><tr><td>ElastiCubes</td><td>The ElastiCube object that holds an array of ElastiCubes. Each ElastiCube must include the name of its server and the name of the cube as defined in the Elastic Manager.</td></tr><tr><td>Server</td><td>The name of the server that hosts the ElastiCube.</td></tr><tr><td>Cube</td><td>The name of the cube to be included in the set.</td></tr><tr><td>Timer</td><td>The frequency of builds in Cron format.Some examples:-To run a build each night at midnight, enter the value "0 0 * * *"-To run a build every hour, enter the value "0 * * * *"See the full Cron format referencehere.</td></tr><tr><td>Build</td><td>The Build object contains two keys, Queue and Flow, which determine the order in which the build is completed and the type of build.</td></tr><tr><td>Queue</td><td>The value of this key is the type of build Sisense should attempt and in what order. There are two possible values delimited by a comma:FullUpdateExisting: Attempts an accumulative build.Full: Attempts an entire build.Sisense recommends the following value:"FullUpdateExisting","Full"In this example, Sisense attempts to do an accumulative build first, and if it fails, Sisense attempts an entire build. If the build fails for all builds, Sisense retries again according to the next scheduled build.</td></tr><tr><td>Flow</td><td>Determines the order of the build. A build occurs according to the value of Timer. For example, if your builds are scheduled for midnight, then the Orchestator begins to build the ElastiCubes at midnight according to the order you define below.Single: Builds a single cube, then waits for the next time a build is scheduled according to the value of Timer. The cube to be built is a cube that previously failed or the cube with the oldest build.Sync: Builds the cubes with the oldest build first and then the remaining cubes in the order of oldest to newest until all ElastiCubes are updated.All: Builds the cube with the oldest build first and then the remaining cubes asynchronously.</td></tr><tr><td>Email</td><td>This object determines what triggers activate Sisense to send an email to users you define in the Emails block</td></tr><tr><td>When</td><td>Indicates when an email alert is triggered. Email alerts can be triggered for the following scenarios:None: No email is ever sent.Build: An email is sent when a build is complete.Fail: An email is sent when a build fails.</td></tr><tr><td>Emails</td><td>This object defines who receives an email and their email address when an email is triggered according to the events you define in the Email object.</td></tr><tr><td>Email</td><td>The email address where emails are to be sent depending on the value of the When key.</td></tr><tr><td>Name</td><td>The name of the recipient of the email.</td></tr><tr><td>LogLevel</td><td>The type of info returned in the log. The possible values you can enter are Info and Error.</td></tr></tbody></table><p><span class="bold">Example</span>:</p><p>The following is an example of a config.json file. In this example, the <MadCap:variable name="Variables.ElastiCube" /> Set contains two <MadCap:variable name="Variables.ElastiCube" />s, <MadCap:variable name="Variables.ElastiCube" />1 and <MadCap:variable name="Variables.ElastiCube" />2, hosted on the two different servers, Server1 and Server2. The <MadCap:variable name="Variables.ElastiCube" />s, even though they are located on separate servers, are connected through the Tasks object. The <MadCap:variable name="Variables.CompanyName" /> Orchestrator Service  attempts to build the <MadCap:variable name="Variables.ElastiCube" /> Set every 10 minutes. If the build fails, <MadCap:variable name="Variables.CompanyName" /> sends an email to JohnDoe@<MadCap:variable name="Variables.CompanyName" />.com.</p><p><pre>{  
   "servers":{  
      "Server1":{  
         "ip":"localhost",
         "port":"80",
         "apiKey":"eyJ0eXAiHDHDHsXKSSZJdnUzI1NiJ9.eyJ1c2VyIjoiNTY1N332RW2eygL0uVLufGYC-8vY"
      }      "Server2":{  
         "ip":"192.168.5.134",
         "port":"8081",
         "apiKey":"dgfhdgSSdSSZJdnUzI1NiJ9.eyJ1c2SDFSDFSDFSFDSFDGSSDFVfasddgdeygL0uVLufDFeY"
      }
   },
   "tasks":[  
      {  
         "name":"taskName",
         "elasticubes":[  
            {  
               "server":"Server1",
               "cube":"ElastiCube1"
            },
            {  
               "server":"Server2",
               "cube":"ElastiCube2"
            }
         ],
         "timer":"*/10 * * * *",
         "build":{  
            "queue":[  
               "FullUpdateExisting",
               "Full"
            ],
            "flow":"sync"
         },
         "email":{  
            "when":"Fail"
         }
      }
   ],
   "emails":[  
      {  
         "email":"JohnDoe@sisense.com",
         "name":"John Doe"
      }
   ],
   "logLevel":"info"
}</pre></p><h3 class="notoc">Overcoming Build Failures in <MadCap:variable name="Variables.ElastiCube" /> Sets</h3><p>In <MadCap:variable name="Variables.CompanyName" />, if an accumulative build fails, you must rebuild the <MadCap:variable name="Variables.ElastiCube" /> that failed entirely to ensure the validity of the <MadCap:variable name="Variables.ElastiCube" />.</p><p>If you use the <MadCap:variable name="Variables.CompanyName" /> Orchestrator Service, <MadCap:variable name="Variables.CompanyName" /> recommends that you define the value of the <span class="bold">Queue</span> key as “FullUpdateExisting, Full”</p><p><span class="code">"queue": ["FullUpdateExisting","Full"]</span></p><p>In this configuration, the <MadCap:variable name="Variables.CompanyName" /> Orchestrator Service attempts to build the set using accumulative builds and in the event of a failure, a full build is initiated.</p><h3 class="notoc">Retrieving a Token</h3><p>As part of the config.json file, you must provide a token that <MadCap:variable name="Variables.CompanyName" /> uses for authenticating your <MadCap:variable name="Variables.ElastiCube" /> Sets.</p><p>You can retrieve this token through <MadCap:variable name="Variables.CompanyName" />’s API documentation. After you retrieve the token, save it as the value of apiKey in the config.json file.</p><p class="bold">To retrieve a token:</p><ol><li>In Sisense, access the API documentation, select <span class="bold">Admin</span>&gt; <span class="bold">REST API</span> &gt; <span class="bold">REST API Reference</span>.<br /><img src="../../../Resources/Images/Restsets.png" class="thumblarge" /></li><li>In the REST API Reference site, select Version 1.0 in the top-right corner of the page.</li><li>Open the authentication method.</li><li>Enter your login credentials and click <span class="bold">Run</span>. The access_token is displayed in the Response Body below.<br /><img src="../../../Resources/Images/token3.png" class="thumblarge" /></li><li>Copy the token and paste it into the value of apiKey in the config.json file.<br /><img src="../../../Resources/Images/token4.png" class="thumblarge" /></li></ol><h3 class="notoc">Updating <MadCap:variable name="Variables.ElastiCube" />s within an <MadCap:variable name="Variables.ElastiCube" /> Set</h3><p>The <MadCap:variable name="Variables.CompanyName" /> Orchestrator Service automatically updates your data across <MadCap:variable name="Variables.ElastiCube" />s within an <MadCap:variable name="Variables.ElastiCube" /> Set. If you want to modify the schema, for example, by adding new tables, you must manually rebuild the <MadCap:variable name="Variables.ElastiCube" />s and then import that <MadCap:variable name="Variables.ElastiCube" /> to the other machines hosting your <MadCap:variable name="Variables.ElastiCube" /> Set.</p><p>While rebuilding your <MadCap:variable name="Variables.ElastiCube" />, you should deactivate the <MadCap:variable name="Variables.CompanyName" /> Orchestrator Service to prevent it from updating the <MadCap:variable name="Variables.ElastiCube" />s with different schemas.</p><p>After the schemas are identical for all the <MadCap:variable name="Variables.ElastiCube" />s across the <MadCap:variable name="Variables.ElastiCube" /> Set, you can reactivate the <MadCap:variable name="Variables.CompanyName" /> Orchestrator Service to automatically update your <MadCap:variable name="Variables.ElastiCube" />s.</p><p class="bold">To update an <MadCap:variable name="Variables.ElastiCube" /> within <MadCap:variable name="Variables.ElastiCube" /> Set:</p><ol><li>Stop the <MadCap:variable name="Variables.CompanyName" /> Orchestrator Service. Open Windows Services, select Sisense.Orchestrator, and click <img src="../../../Resources/Images/servicesstop1.png" class="docbutton" />.<br /><img src="../../../Resources/Images/WinServicesSet1.png" class="thumblarge" /></li><li>Apply your schema changes to the <MadCap:variable name="Variables.ElastiCube" /> and run a full build.</li><li>Export the <MadCap:variable name="Variables.ElastiCube" /> and import it on your other machines. For more information, see <a href="../../managing-data/managing-data/import-export-ecube.htm">Importing and Exporting <MadCap:variable name="Variables.ElastiCube" /> Data</a>.</li><li>In Windows Services, restart the <MadCap:variable name="Variables.CompanyName" /> Orchestrator Service by selecting Sisense.Orchestrator and clicking <img src="../../../Resources/Images/startbutton1.png" class="docbutton" />.</li></ol></body>
</html>